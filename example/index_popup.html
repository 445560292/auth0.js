<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Test Auth0</title>
  </head>
  <body>
    <h2>Login with Social Connection</h2>
    <a href="#login-popup" class='login-google-popup'>login with google on popup</a>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="auth0.js"></script>
    <script type="text/javascript">
      var auth0 = new Auth0({
          domain:      'mdocs.auth0.com',
          callbackURL: 'http://localhost:3000/index_popup.html',
          clientID:    '0HP71GSd6PuoRYJ3DXKdiXCUUdGmBbup',
          callbackOnLocationHash: true
      });

      $('.login-google-popup').click(function (e) {
        e.preventDefault();
        auth0.login({
            connection: 'google-oauth2',
            popup: true,
            popupOptions: {
                width: 450,
                height: 800
            }
        }, function(err, profile, id_token, access_token, state) {
          if (err) {
            alert("something went wrong: " + err.message);
            return;
          }
          alert('hello ' + profile.name);
        });
      });

    </script>
  </body>
</html>
